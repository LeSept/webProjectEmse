<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TheSeven</title>
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
      <!-- A CSS style from w3School -->
    <link rel="stylesheet" href="css/w3.css">
	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="css/media.css">
      
      <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      
      <!-- Angular library -->
    <script src="//code.angularjs.org/snapshot/angular.min.js"></script>
    <script src="//code.angularjs.org/snapshot/angular-sanitize.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.js"></script>
      
      <!-- An angular directive for check-lists -->
    <script src="js/checklist-model.js"></script>
      <!-- Cookies, cookies and cookies :)  -->
    <script type="text/javascript" src="js/userData.js"></script>
    <script src="js/cookies.js"></script>
      
    <!-- yahoo Api -->
    <script src="http://yui.yahooapis.com/3.18.1/build/yui/yui-min.js"></script>
  </head>
    
    
    
    
  

  <body onload="loadCookie()" ng-app="myApp" ng-strict-di ng-controller="pageController">

    <header>
        <!-- Meteo -->
      <div class="div-meteo">
            <iframe id="forecast_embed" type="text/html" frameborder="0" height="210" width="50%" src="https://forecast.io/embed/#lat=45.441224&lon=4.385991&name=Saint-etienne&color=#00aaff&font=Georgia&units=uk" allowfullscreen>
            </iframe>
      </div>
        <!-- End Meteo -->
        
        <!--  Welcome -->
        <div class="welcome">
            <div>
                <img src="./images/logo7.png" alt="7">
            </div>
            <div>
                <h1>Welcome to the kingdom of the SEVEN! Here you can find useful information for yourself.</h1>
            </div>
            <div>
                <h2>Not convinced? Scroll down please!!</h2>
            </div>
            
        </div>
        <!-- End Welcome -->
        
        
        <!-- Hamburger menu -->
        <div class="openHamburger">
            <img src="./images/openHamburger.png">
        </div>
        
        <div class="closeHamburger">
            <img src="./images/closeHamburger.png">
        </div>
        <!-- end Hamburger menu -->
        
      <nav>
        <div id="navbar-container" class="navbar-container">
          <div id="navbar-login" class="col-lg-3 col-md-3 col-sm-12 navbar-item">
          	<p data-toggle="modal" data-target="#mypreferenceModal">Preferences</p>              
          </div>
        
          <div id="navbar-meteo" class="col-lg-3 col-md-6 col-sm-12 navbar-item">
            	<p>Horoscope</p>
		  </div>
		  
          <div id="navbar-category" class="col-lg-3 col-md-3 col-sm-12 navbar-item">
          	<p>Categories</p>
          	<div class="dropdown-content">
                <a ng-repeat="cat in allCategories" ng-click="actualize(cat)">{{cat}}</a>
  			</div>
          </div>	
        </div>
      </nav>
    </header>
    
      <!-- The horoscope code goes here -->
    <div id="horoscope-container" ng-include="'horoscope.html'"></div>
      
      <!-- The preferences code goes here -->
    <div ng-include="'preferences.html'"></div>
      
      <!-- The preferences code goes here -->
      <div class="articles-search" ng-if = "category == 'SEARCH A TOPIC'">
          <h1 class="col-lg-12 col-sm-12 col-md-12">SEARCH A TOPIC</h1>
          <input type="text" ng-model="searcharticles" ng-model-options="{ getterSetter: true }" size="42" placeholder="Eg: world, obama, trump, russia, olympics, footbal"/>
          <h1 class="col-lg-12 col-sm-12 col-md-12" ng-bind="searcharticles()"></h1>
          <div id = "results-container" class="articles-container"></div>
      </div>
      
      
      <div class="articles-container" ng-controller="articlesSpace">
          
          
          
          <h1 class="col-lg-12 col-sm-12 col-md-12" ng-bind="category"  ng-if="category != 'SEARCH A TOPIC'">{{category}}</h1>
          
          <!-- si category = A LA UNE, car on ne filtre pas -->
          <div class="articles-item {{article.type}}" ng-repeat="article in articles|orderBy: '-date' as results" ng-if="category=='À LA UNE'">
              <p class="articles-date">{{article.date}}</p>
              <p class="articles-media">{{article.media}}</p>
              <h2 class="articles-title">{{article.title}}</h2>
              <p class="articles-content">{{article.contentSnippet}}</p>
              <a class="articles-link col-sm-4" href={{article.link}}>Read the article on the web</a>
              
              <div class="articles-categories">
                  <div ng-repeat="subject in article.categories">
                      <div class="article-categorie">
                          <p> {{subject}} </p>
                      </div>
                  </div>
              </div>
          </div>
          
          <!-- si category != A LA UNE, car on filtre -->
          <div class="articles-item articles-large" ng-repeat="article in articles|filter: {categories: category}|orderBy: '-date' as results" ng-if="category!='À LA UNE'">
              <p class="articles-date">{{article.date}}</p>
              <p class="articles-media">{{article.media}}</p>
              <h2 class="articles-title">{{article.title}}</h2>
              <p class="articles-content">{{article.contentSnippet}}</p>
              <a class="articles-link col-sm-12" href={{article.link}}>Read the article on the web</a>
              
              <div class="articles-categories">
                  <div ng-repeat="subject in article.categories">
                      <div class="article-categorie">
                          <p> {{subject}} </p>
                      </div>
                  </div>
              </div>
            </div>
          </div>
      
      
      
      
      
      
      
      <footer>
          <p>Made with love by Aymeric, Chen, Fidèle and Leticia</p>
          <div class="footer-div">
          <div>
              <img src="./images/aymeric.jpg" alt="Aymeric">
              <p>Aymeric</p>
          </div>
          
          <div>
              <img src="./images/chen.jpg" alt="Chen">
              <p>Chen</p>
          </div>
          
          <div>
              <img src="./images/fidele.jpg" alt="Fidèle">
              <p>Fidèle</p>
          </div>
          
          <div>
              <img src="./images/leticia.jpg" alt="Leticia">
              <p>Leticia</p>
          </div>
          </div>
     </footer>
  	

  </body>
    
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/sourcesData.js"></script>
    <script type="text/javascript" src="js/angularjs.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    
</html>